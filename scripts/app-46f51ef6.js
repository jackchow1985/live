"use strict";angular.module("inspinia",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","highcharts-ng","ui.select","angular-venn","angularMoment"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("login",{"abstract":!0,url:"/login",templateUrl:"components/login/login.html"}).state("index",{"abstract":!0,url:"/index",templateUrl:"components/common/content.html"}).state("index.main",{url:"/main",templateUrl:"app/main/main.html",data:{pageTitle:"Dashboard"}}).state("index.school",{url:"/school",templateUrl:"components/school/school.html",data:{pageTitle:"School Analytics"}}).state("index.user",{url:"/userScore",templateUrl:"components/user/user_score.html",data:{pageTitle:"User Analytics"}}).state("index.profile",{url:"/profile/:userID/:region/:app",templateUrl:"components/user/user_profile.html",data:{pageTitle:"User Profile"}}).state("index.profile",{url:"/profileSearch",templateUrl:"components/user/user_profile.html",data:{pageTitle:"User Profile"}}),t.otherwise("/index/main")}]),angular.module("inspinia").controller("UserScoreCtrl",["$scope","$rootScope","$http",function(e,t,n){e.topUsers=[{userID:"qq30753365",scores:"100,100,100,100,100",area:"100.0",confidence:"79"},{userID:"mlk953026",scores:"100,100,100,100,100",area:"100.0",confidence:"93"},{userID:"xiaoshan",scores:"99,99,100,100,100",area:"99.202",confidence:"88"},{userID:"chuanze",scores:"98,100,100,100,100",area:"99.2",confidence:"73"},{userID:"andyu",scores:"100,98,100,100,99",area:"98.8",confidence:"100"},{userID:"yeyangshan",scores:"97,100,100,100,99",area:"98.406",confidence:"34"},{userID:"wd527974641",scores:"97,100,100,100,99",area:"98.406",confidence:"89"},{userID:"cyh32167",scores:"100,99,100,99,98",area:"98.404",confidence:"64"},{userID:"ll18683029911",scores:"97,99,100,100,99",area:"98.012",confidence:"70"},{userID:"chf123456",scores:"98,97,100,100,100",area:"98.012",confidence:"56"},{userID:"a2652482521",scores:"98,98,100,100,99",area:"98.012",confidence:"100"},{userID:"tonyxu",scores:"99,96,100,100,100",area:"98.008",confidence:"77"},{userID:"moonoom",scores:"100,99,99,99,98",area:"98.008",confidence:"80"},{userID:"gjm651005",scores:"97,99,100,99,100",area:"98.006",confidence:"83"},{userID:"pengyan606",scores:"96,100,100,99,100",area:"98.0",confidence:"79"}],e.tailUsers=[{userID:"ccb12345",scores:"3,3,4,1,1",area:"0.058",confidence:"7"},{userID:"j575654617",scores:"5,4,5,3,1",area:"0.126",confidence:"41"},{userID:"lilianzhang",scores:"5,2,8,2,4",area:"0.14",confidence:"9"},{userID:"nikun888",scores:"2,2,5,3,9",area:"0.148",confidence:"40"},{userID:"razorclam",scores:"37,1,3,1,1",area:"0.162",confidence:"40"},{userID:"akj",scores:"3,4,7,9,2",area:"0.254",confidence:"7"},{userID:"qc340247563",scores:"4,1,2,2,20",area:"0.26",confidence:"60"},{userID:"xueminz",scores:"9,8,3,2,4",area:"0.292",confidence:"50"},{userID:"xdd089",scores:"5,21,1,2,4",area:"0.312",confidence:"76"},{userID:"linfeng",scores:"2,45,1,2,5",area:"0.314",confidence:"81"},{userID:"bh158",scores:"6,22,1,1,1",area:"0.324",confidence:"99"},{userID:"taotao120-R20151028104656",scores:"9,2,17,2,8",area:"0.348",confidence:"51"},{userID:"freshell",scores:"7,2,3,16,5",area:"0.366",confidence:"97"},{userID:"yxchen",scores:"18,6,4,7,1",area:"0.37",confidence:"25"},{userID:"cwy0308-R20151107130151",scores:"8,9,1,12,5",area:"0.386",confidence:"25"}],e.topSelected=e.topUsers[0],e.tailSelected=e.tailUsers[0],e.changeTailUser=function(){e.loadData(e.tailSelected.userID)},e.changeTopUser=function(){e.loadData(e.topSelected.userID)},e.loadData=function(t){e.chartConfig.series=[],n.get("getUserRiskScore?userID="+(t?t:e.topUsers[0].userID)).success(function(t){var n=t.users[0].scores.split(","),i=[];for(var a in n)i.push(parseInt(n[a]));e.chartConfig.series.push({type:"area",name:"Risk Control Score",data:i,pointPlacement:"on"})})},e.chartConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"}},title:{text:"Risk Control Score",x:-80},pane:{size:"80%"},xAxis:{categories:["Overnight open-position","Max open-position","Draw-down","Loss variance","Order loss"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>${point.y:,.0f}</b><br/>'},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}}}]),angular.module("inspinia").controller("UserProfileCtrl",["$scope","$rootScope","$http","$stateParams",function(e,t,n,i){e.products=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}],e.regions=[{name:"Global",id:"Global"},{name:"CN",id:"CN"}],e.productSelected=e.products[0],e.regionSelected=e.regions[0],e.loadData=function(){var t=i.userID||e.inputUserId,a=i.region||e.regionSelected.name,o=i.app||e.productSelected.name;n.get("getUserInfo?userID="+t+"&db="+a).success(function(t){e.user=t[0]}),n.get("getUserLastLogin?userID="+t+"&db="+a+"&app="+o).success(function(t){e.userLastLogin=t[0]}),n.get("getUserAccDaily?userID="+t+"&db="+a+"&app="+o).success(function(t){var n=[];e.chartConfig.series=[];for(var i=0;i<t.length;i++)n.push([Date.parse(t[i].TRADE_DATE),100*(parseFloat(t[i].UNIT_PRICE)-1)]);console.info(n),t&&t.length>0&&(e.acc=t[0]),e.chartConfig.series.push({type:"area",name:"ROI Trend",data:n})}),e.chartRadarConfig.series=[],n.get("getUserRiskScore?userID="+t).success(function(t){var n=t.users[0].scores.split(","),i=[];for(var a in n)i.push(parseInt(n[a]));e.chartRadarConfig.series.push({type:"area",name:"Risk Control Score",data:i,pointPlacement:"on"})})},e.chartConfig={options:{chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"}},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:e.chartSeries},e.loadProfolioData=function(){var t=i.userID||e.inputUserId,a=i.region||e.regionSelected.name,o=i.app||e.productSelected.name;e.chartPieConfig.series=[],n.get("getUserOpenPositions?userID="+t+"&db="+a+"&app="+o).success(function(t){var n=[];for(var i in t)n.push({name:t[i].SYMBOL,y:Math.abs(t[i].qty),sign:t[i].qty>=0?"":"-"});console.info(n),e.chartPieConfig.series.push({type:"pie",name:"User Profolio",data:n,pointPlacement:"on"})})},e.chartPieConfig={options:{colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Qty: <b>{point.sign}{point.y}</b> <br> {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}},title:{text:"Open Positions"}},e.chartRadarConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"}},title:{text:"Risk Control Score",x:-80},pane:{size:"80%"},xAxis:{categories:["Overnight open-position","Max open-position","Draw-down","Loss variance","Order loss"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>${point.y:,.0f}</b><br/>'},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},i.userID&&(e.loadData(),e.hasUserId=!0,e.loadProfolioData())}]),angular.module("inspinia").controller("TabsDemoCtrl",["$scope","$rootScope","$window",function(e){e.tabs=[{title:"Global",content:"Dynamic content 1"},{title:"China",content:"Dynamic content 2",disabled:!0}],e.click=function(){setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)}}]),angular.module("inspinia").controller("UserRankingCrol",["$scope","$rootScope","$http",function(e,t,n){var i=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}],a=[];e.$watch(function(){return t.selectedSchool},function(){t.selectedSchool&&(e.products="CN"==t.regionSelected?i:[i[0]],e.selected=e.products[0],e.loadSchoolData(t.selectedSchool))},!0),e.loadSchoolData=function(i){e.loaded=!1,e.userRankList=[],e.rankListLoading=!0,n.get("getUserRanking?school_key="+i+"&app="+e.selected.name+"&db="+t.regionSelected).success(function(t){a=t,e.rankListLoading=!1,e.userRankList=t.slice(0,10)})},e.loadMore=function(){e.userRankList=a},e.changeProduct=function(){e.loadSchoolData(t.selectedSchool)}}]),angular.module("inspinia").controller("SchoolCtrl",["$scope","$rootScope","$http",function(e,t,n){function i(){e.totalUser=0,e.monthUserFX=0,e.weekUserFX=0,e.monthUserFC=0,e.weekUserFC=0,e.monthUserSC=0,e.weekUserSC=0,e.school.selected=void 0}e.regions=[],e.schoolsList=[],e.schools=[],e.school={},e.compareList=[],n.get("getSchools").success(function(t){for(var n in t)t[n].school_name&&(t[n].school_region&&e.regions.indexOf(t[n].school_region)<0&&e.regions.push(t[n].school_region),"INOTHER"!=t[n].school_key&&"825"!=t[n].school_key&&"672"!=t[n].school_key&&e.schoolsList.push(t[n]))}),e.addSchool=function(){e.school.selected="Please select a school to compare ...",e.isCompard=!0},e.loadSchoolData=function(t){n.get("getSchoolUserGrowth?school_key="+t.school_key+"&db="+t.school_region).success(function(n){e.isCompard||(e.chartConfig.series=[]);for(var i=[],a=0;a<n.length;a++)i.push([Date.parse(n[a].date),n[a].total_user_num]);e.chartConfig.series.push({type:"spline",name:t.school_name,data:i})})},e.onSearch=function(){},e.loadCountData=function(t){i(),n.get("getSchoolUserCountByApp?app=FX&school_key="+t.school_key+"&db="+t.school_region).success(function(t){var n=t;e.totalUser=n.totalUser,e.monthUserFX=n.monthlyActiveUser,e.weekUserFX=n.weeklyActiveUser}),"CN"==t.school_region&&(n.get("getSchoolUserCountByApp?app=SC&school_key="+t.school_key+"&db="+t.school_region).success(function(t){var n=t;e.monthUserSC=n.monthlyActiveUser,e.weekUserSC=n.weeklyActiveUser}),n.get("getSchoolUserCountByApp?app=FC&school_key="+t.school_key+"&db="+t.school_region).success(function(t){var n=t;e.totalUser=n.totalUser,e.monthUserFC=n.monthlyActiveUser,e.weekUserFC=n.weeklyActiveUser}))},e.onSchoolSelect=function(n){e.count_show=!0,e.loadSchoolData(n),e.loadCountData(n),t.selectedSchool=n.school_key},e.onRegionSelect=function(n){i(),e.schools=[],t.regionSelected=n,e.school_show=!0;for(var a in e.schoolsList)e.schoolsList[a].school_region&&e.schoolsList[a].school_region==n&&e.schools.push(e.schoolsList[a])},e.chartConfig={chart:{backgroundColor:null,zoomType:"x"},title:{text:"User Growth"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:e.chartSeries}}]),angular.module("inspinia").controller("ContestCrol",["$scope","$rootScope","$http",function(e,t,n){var i=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}];e.$watch(function(){return t.selectedSchool},function(){t.selectedSchool&&(e.products="CN"==t.regionSelected?i:[i[0]],e.selected=e.products[0],e.loadContentData(t.selectedSchool))},!0),e.loadContentData=function(i){e.contestList=[],n.get("getContestByApp?school_key="+i+"&app="+e.selected.name+"&db="+t.regionSelected).success(function(t){e.contestList=t})},e.changeProduct=function(){e.loadContentData(t.selectedSchool)}}]);var app=angular.module("inspinia");app.controller("MapCtrl",["$scope","$location","$http",function(e,t,n){e.data=function(){n.get("getRegionDist?file=Global_Country_TU").success(function(t){t=t.data.Global_Country_TU;var n={};e.markers=[];for(var i=0;i<t.length;i++)t[i].Country&&(n[t[i].Country]=parseInt(t[i]["Total Users"])),"HK"==t[i].Country&&e.markers.push({latLng:[22.15,114.1],name:"Hong Kong",values:parseInt(t[i]["Total Users"])});e.datamap=n})}}]),app.directive("map",function(){return{restrict:"EAC",link:function(e,t){var n=null;e.$watch("datamap",function(){console.log(n),e.datamap&&($(t).width("auto"),$(t).height(400),n=$(t).vectorMap({onRegionClick:function(e,t){console.info(t)},map:"world_mill_en",backgroundColor:"transparent",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":0}},series:{regions:[{values:e.datamap,scale:["#1ab394","#ED5565"],normalizeFunction:"polynomial"}]},onMarkerTipShow:function(t,n,i){n.html(n.html()+": "+(e.markers[i]?e.markers[i].values:""))},onRegionTipShow:function(t,n,i){n.html(n.html()+": "+(e.datamap[i]?e.datamap[i]:""))},markers:e.markers,markerStyle:{initial:{fill:"#F8E23B",stroke:"#383f47"}}}))})}}}),angular.module("inspinia").controller("VennCtrl",["$scope","$http","$rootScope",function(e,t,n){e.loadData=function(i){t.get("getDataFromFile?file="+i).success(function(t){t=t.data;var i=[{sets:["China_FX"],size:t.China_FX_FC_SC_TU[0].China_FX},{sets:["China_FC"],size:t.China_FX_FC_SC_TU[0].China_FC},{sets:["China_SC"],size:t.China_FX_FC_SC_TU[0].China_SC},{sets:["China_FX","China_FC"],size:t.China_FX_FC_SC_TU[0].China_FX_FC},{sets:["China_FX","China_SC"],size:t.China_FX_FC_SC_TU[0].China_FX_SC},{sets:["China_FC","China_SC"],size:t.China_FX_FC_SC_TU[0].China_FC_SC},{sets:["China_FX","China_FC","China_SC"],size:t.China_FX_FC_SC_TU[0].China_FX_FC_SC}];n.overlapUsers=t.China_FX_FC_SC_TU[0].China_FX_FC_SC,e.vennData=i,setTimeout(function(){var e=d3.select("#venn"),t=d3.select("body").append("div").attr("class","venntooltip");e.selectAll("g").on("mouseover",function(n){venn.sortAreas(e,n),t.transition().duration(400).style("opacity",.9),t.text(n.size+" users");var i=d3.select(this).transition("tooltip").duration(400);i.select("path").style("stroke-width",3).style("fill-opacity",1==n.sets.length?.4:.1).style("stroke-opacity",1)}).on("mousemove",function(){t.style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(e){t.transition().duration(400).style("opacity",0);var n=d3.select(this).transition("tooltip").duration(400);n.select("path").style("stroke-width",0).style("fill-opacity",1==e.sets.length?.25:0).style("stroke-opacity",0)})},300)})}}]),angular.module("inspinia").controller("ChartCtrl",["$scope","$http","$rootScope",function(e,t,n){e.$on("changeSelector",function(e,t){console.info(t)}),e.loadData=function(i){t.get("getDataFromFile?file="+i).success(function(t){t=t.data;var a=i.split("|");e.chartConfig.series=[];for(var o=0;o<a.length;o++){for(var s=[],l=0;l<t[a[o]].length;l++)s.push([Date.parse(t[a[o]][l].date),parseInt(t[a[o]][l][e.valueName])]);e.chartConfig.series.push({type:"area",name:e[a[o]],data:s})}if("Date_TU_Global|Date_TU_China"==i){var r=t.Date_TU_Global,c=t.Date_TU_China;n.totalUsersChina=parseInt(c[c.length-1][e.valueName]),n.totalUsersGlobal=parseInt(r[r.length-1][e.valueName])}})},e.chartConfig={colors:["#A3E1D4","#ff0066","#2b908f","#90ee7e","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:null,zoomType:"x"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:e.chartSeries}}]),angular.module("inspinia").controller("ChartComLineCtrl",["$scope","$http",function(e,t){e.loadData=function(n){t.get("getDataFromFile?file="+n).success(function(t){t=t.data;var n=[],i=[],a={};a={Others:0};for(var o={},s=0;s<t.Global_Country_TU.length&&4>s;s++)n.push(t.Global_Country_TU[s]),i.push(t.Global_Country_TU[s].Country),a[t.Global_Country_TU[s].Country]=0;for(var s=0;s<t.Date_Global_Country_TU.length;s++)if(i.indexOf(t.Date_Global_Country_TU[s].country)>=0){"TW"==t.Date_Global_Country_TU[s].country&&console.info(t.Date_Global_Country_TU[s]);var l=a[t.Date_Global_Country_TU[s].country]+parseInt(t.Date_Global_Country_TU[s]["Total Users"]);a[t.Date_Global_Country_TU[s].country]=l;var r=[Date.parse(t.Date_Global_Country_TU[s].date),l];o[t.Date_Global_Country_TU[s].country]&&o[t.Date_Global_Country_TU[s].country].length>0?o[t.Date_Global_Country_TU[s].country].push(r):(o[t.Date_Global_Country_TU[s].country]=[],o[t.Date_Global_Country_TU[s].country].push(r))}else{var l=a.Others+parseInt(t.Date_Global_Country_TU[s]["Total Users"]);a.Others=l;var r=[Date.parse(t.Date_Global_Country_TU[s].date),l];o.Others&&o.Others.length>0?o.Others.push(r):(o.Others=[],o.Others.push(r))}var c=[];i.push("Others");for(var d in i)c.push({name:i[d],data:o[i[d]]});e.chartConfig.series=c})},e.chartConfig={chart:{backgroundColor:null,zoomType:"x"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:e.chartSeries}}]),angular.module("inspinia").controller("ChartAreaCtrl",["$scope","$http","$rootScope",function(e,t,n){e.loadData=function(i){t.get("getDataFromFile?file="+i).success(function(t){t=t.data;var a=i.split("|");e.chartConfig.series=[];for(var o=[],s=0;s<a.length;s++){for(var l=[],r=0;r<t[a[s]].length;r++)"Date_AU_Global_FX"==i&&n.lastUpdate==t[a[s]][r].date&&(n.activeGlobalFXUsers=parseInt(t[a[s]][r][e.valueName])),"Date_AU_China_FX"==i&&n.lastUpdate==t[a[s]][r].date&&(n.activeChinaFXUsers=parseInt(t[a[s]][r][e.valueName])),"Date_AU_China_FC"==i&&n.lastUpdate==t[a[s]][r].date&&(n.activeChinaFCUsers=parseInt(t[a[s]][r][e.valueName])),"Date_AU_China_SC"==i&&n.lastUpdate==t[a[s]][r].date&&(n.activeChinaSCUsers=parseInt(t[a[s]][r][e.valueName])),"Date_NU_China"==i&&n.lastUpdate==t[a[s]][r].date&&(n.newChinaUsers=parseInt(t[a[s]][r][e.valueName])),"Date_NU_Global"==i&&n.lastUpdate==t[a[s]][r].date&&(n.newGlobalUsers=parseInt(t[a[s]][r][e.valueName])),l.push([Date.parse(t[a[s]][r].date),parseInt(t[a[s]][r][e.valueName])]);console.info(o),e.chartConfig.series.push({type:"area",name:e[a[s]],data:l})}console.info(e.chartConfig)})},e.chartConfig={chart:{backgroundColor:null,zoomType:"x"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:e.chartSeries}}]),angular.module("inspinia").controller("BoxCtrl",["$scope","$http","$rootScope","$filter",function(e,t,n){n.lastUpdate=moment().subtract(1,"days").format("YYYY-MM-DD"),e.loadContestCount=function(){t.get("getContestCount").success(function(t){e.contentCount=t[0].count})}}]),$(document).ready(function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var t=$("nav.navbar-default").height(),n=$("#page-wrapper").height();t>n&&$("#page-wrapper").css("min-height",t+"px"),n>t&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||e()}),setTimeout(function(){e()})}),$(function(){$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),angular.module("inspinia").directive("sideNavigation",["$timeout",function(e){return{restrict:"A",link:function(t,n){t.$watch("authentication.user",function(){e(function(){n.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(e){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-init="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(t){t.minimalize=function(){angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),e(function(){angular.element("#side-menu").fadeIn(500)},100)):angular.element("#side-menu").removeAttr("style")}}]}}]),angular.module("inspinia").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="wrapper wrapper-content animated fadeInRight"><div ng-include="\'components/box/sumbox.html\'"></div><div class="row chartPanel"><div ng-include="\'components/chart/chart_tu.html\'"></div></div><div class="row chartPanel"><div ng-include="\'components/map/map.html\'"></div><div ng-include="\'components/chart/chart_global_dist.html\'"></div></div><div class="row chartPanel"><div ng-include="\'components/chart/chart_fx_fc_sc.html\'"></div></div><div class="row chartPanel"><div ng-include="\'components/chart/overlap.html\'"></div><div ng-include="\'components/chart/venn.html\'"></div></div><div ng-controller="TabsDemoCtrl" class="tab-bar"><tabset><tab heading="Global"><div class="row chartPanel"><div ng-include="\'components/chart/chart_gb_nu.html\'"></div></div></tab><tab heading="China" ng-click="click()"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_nu.html\'"></div></div></tab></tabset></div><div ng-controller="TabsDemoCtrl" class="tab-bar"><tabset><tab heading="Global"><div class="row chartPanel"><div ng-include="\'components/chart/chart_gb_au.html\'"></div></div></tab><tab heading="China FX" ng-click="click()"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_fx.html\'"></div></div></tab><tab heading="China FC" ng-click="click()"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_fc.html\'"></div></div></tab><tab heading="China SC" ng-click="click()"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_sc.html\'"></div></div></tab></tabset></div></div>'),e.put("components/box/sumbox.html",'<div class="row" ng-controller="BoxCtrl"><div class="col-lg-3"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-success pull-right">All Apps</span><h5>Total Users</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(($root.totalUsersChina + $root.totalUsersGlobal)|number)">0</h1><small>Users</small></div></div></div><div class="col-lg-3"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-info pull-right">Daily</span><h5>Active User</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(($root.activeChinaFXUsers + $root.activeChinaSCUsers + $root.activeChinaFCUsers + $root.activeGlobalFXUsers ) |number)">0</h1><div class="stat-percent font-bold text-success" ng-bind="(($root.activeChinaFXUsers + $root.activeChinaSCUsers + $root.activeChinaFCUsers + $root.activeGlobalFXUsers ) / ($root.totalUsersChina + $root.totalUsersGlobal) * 100|number:2) + \'% active\'"><i class="fa fa-bolt"></i></div><small>Users</small></div></div></div><div class="col-lg-3"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-primary pull-right">Daily</span><h5>New Users</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(($root.newChinaUsers + $root.newGlobalUsers ) |number)">0</h1><div class="stat-percent font-bold text-navy" ng-bind="(($root.newChinaUsers + $root.newGlobalUsers ) / ($root.totalUsersChina + $root.totalUsersGlobal) * 100|number:2) + \'% new\'"><i class="fa fa-bolt"></i></div><small>Users</small></div></div></div><div class="col-lg-3"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-danger pull-right">Global</span><h5>Contest</h5></div><div class="ibox-content"><h1 class="no-margins" ng-init="loadContestCount()" ng-bind="(contentCount |number)">0</h1><small>Contests Held</small></div></div></div></div>'),e.put("components/chart/chart_cn_au_fc.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_FC=\'China Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_FC=\'China Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_FC=\'China Monthly Active Users\'"></div>'),e.put("components/chart/chart_cn_au_fx.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_FX=\'China Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_FX=\'China Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_FX=\'China Monthly Active Users\'"></div>'),e.put("components/chart/chart_cn_au_sc.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_SC=\'China Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_SC=\'China Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'China\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_SC=\'China Monthly Active Users\'"></div>'),e.put("components/chart/chart_cn_nu.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Date_NU_China=\'China Daily New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Week_NU_China=\'China Weekly New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Month_NU_China=\'China Monthly New Users\'"></div>'),e.put("components/chart/chart_fx_fc_sc.html",'<div class="col-md-12" ng-controller="ChartCtrl"><highchart ng-init="loadData(\'Date_TU_China_FX|Date_TU_China_FC|Date_TU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'China FX FC SC\'"> <input type="hidden" ng-init="valueName=\'Total Users\'"> <input type="hidden" ng-init="Date_TU_China_FX=\'China FX\'"> <input type="hidden" ng-init="Date_TU_China_FC=\'China FC\'"> <input type="hidden" ng-init="Date_TU_China_SC=\'China SC\'"></div>'),e.put("components/chart/chart_gb_au.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_Global_FX=\'Global Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_Global_FX=\'Global Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_Global_FX=\'Global Monthly Active Users\'"></div>'),e.put("components/chart/chart_gb_nu.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Date_NU_Global=\'Global Daily New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Week_NU_Global=\'Global Weekly New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Global\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Month_NU_Global=\'Global Monthly New Users\'"></div>'),e.put("components/chart/chart_global_dist.html",'<div ng-controller="ChartComLineCtrl"><div class="col-md-6"><highchart ng-init="loadData(\'Date_Global_Country_TU|Global_Country_TU\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Global Distribution\'"></div></div>'),e.put("components/chart/chart_tu.html",'<div class="row" ng-controller="ChartCtrl"><div class="col-lg-12"><highchart ng-init="loadData(\'Date_TU_Global|Date_TU_China\')" config="chartConfig" class="span9"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Total User Growth\'"> <input type="hidden" ng-init="valueName=\'Total Users\'"> <input type="hidden" ng-init="Date_TU_Global=\'Global\'"> <input type="hidden" ng-init="Date_TU_China=\'China\'"> <input type="hidden" ng-init="chartType=\'area\'"> <input type="hidden" ng-init="chartConfig.colors=[\'#0000ff\',\'ff0066\',\'2b908f\']"></div></div>'),e.put("components/chart/overlap.html",'<div class="col-md-6" ng-controller="ChartCtrl"><highchart ng-init="loadData(\'FX_FC_Overlap|FX_SC_Overlap|FC_SC_Overlap|FX_FC_SC_Overlap\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'FX FC SC Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overlaping Users\'"> <input type="hidden" ng-init="valueName=\'Common Users\'"> <input type="hidden" ng-init="FX_FC_Overlap=\'FX&FC\'"> <input type="hidden" ng-init="FX_SC_Overlap=\'FX&SC\'"> <input type="hidden" ng-init="FC_SC_Overlap=\'FC&SC\'"> <input type="hidden" ng-init="FX_FC_SC_Overlap=\'FX&FC&SC\'"></div>'),e.put("components/chart/venn.html",'<div class="col-md-6 venn-panel" ng-controller="VennCtrl"><div id="venn" venn="vennData" ng-init="loadData(\'China_FX_FC_SC_TU\')"></div></div>'),e.put("components/common/content.html",'<div id="wrapper"><div ng-include="\'components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'components/common/topnavbar.html\'"></div><div ui-view=""></div><div ng-include="\'components/common/footer.html\'"></div></div></div>'),e.put("components/common/footer.html",'<div class="footer"><div class="pull-right">FDT Dashboard v0.5</div><div><strong>Copyright</strong> FDT &copy; 2014-2015</div></div>'),e.put("components/common/ibox_tools.html",'<div class="ibox-tools dropdown" dropdown=""><a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a> <a class="dropdown-toggle" href="" dropdown-toggle=""><i class="fa fa-wrench"></i></a><ul class="dropdown-menu dropdown-user"><li><a href="">Config option 1</a></li><li><a href="">Config option 2</a></li></ul><a ng-click="closebox()"><i class="fa fa-times"></i></a></div>'),e.put("components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="dropdown profile-element" dropdown=""><a class="dropdown-toggle" dropdown-toggle="" href=""><span class="clear"><span class="block m-t-xs"><strong class="font-bold">{{main.userName}}</strong></span> <span class="text-muted text-xs block">Example menu<b class="caret"></b></span></span></a><ul class="dropdown-menu animated fadeInRight m-t-xs"><li><a href="">Logout</a></li></ul></div><div class="logo-element">FDT</div></li><li ui-sref-active="active"><a ui-sref="index.main"><i class="fa fa-dashboard"></i> <span class="nav-label">User</span></a></li><li ui-sref-active="active"><a ui-sref="index.school"><i class="fa fa-graduation-cap"></i> <span class="nav-label">School</span></a></li><li ui-sref-active="active"><a ui-sref="index.region"><i class="fa fa-map-marker"></i> <span class="nav-label">Region</span></a></li></ul></div></nav>'),e.put("components/common/topnavbar.html",'<div class="row border-bottom"><nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span><form role="search" class="navbar-form-custom" method="post" action=""><div class="form-group"><input type="text" placeholder="" class="form-control" name="top-search" id="top-search"></div></form></div><ul class="nav navbar-top-links navbar-right"><li><span class="m-r-sm text-muted welcome-message" ng-bind="\'Last Updated Time : \' + $root.lastUpdate"></span></li><li><a href=""><i class="fa fa-sign-out"></i> Log out</a></li></ul></nav></div>'),e.put("components/map/map.html",'<div class="col-md-6 chartPanel" ng-controller="MapCtrl"><h3>Global Distribution on Map</h3><div id="map" map="" ng-init="data()"></div></div>'),e.put("components/school/contest.html",'<div class="col-lg-4" ng-controller="ContestCrol"><div class="ibox float-e-margins"><div class="ibox-title"><h5>School User In Contests</h5><div class="ibox-tools"><button type="button" class="btn btn-sm btn-primary">Export</button></div></div><div class="ibox-content"><div class="row"><div class="col-sm-3 m-b-xs"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="selected" ng-change="changeProduct()"></select></div><div class="col-sm-3"></div></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th class="hidden-xs">Contest Name</th><th class="hidden-xs"># Users</th></tr></thead><tbody><tr ng-repeat="contest in contestList"><td>{{contest.name}}</td><td>{{contest.count|number}}</td></tr></tbody></table></div></div></div></div>'),e.put("components/school/count.html",'<div class="col-lg-5 school-count-box"><div class="col-lg-3 text-center"><div class="widget style1"><div class="row"><i class="fa fa-user fa-3x"></i></div><div class="row"><span>Total Users</span><h2 class="font-bold" ng-bind="totalUser"></h2></div></div></div><div class="col-lg-9"><div class="row m-t-xs"><div class="col-xs-6"><h5 class="m-b-xs">Weekly Active Users</h5><h1 class="no-margins">{{weekUserFX + weekUserFC + weekUserSC}}</h1></div><div class="col-xs-6"><h5 class="m-b-xs">Monthly Active Users</h5><h1 class="no-margins">{{monthUserFX + monthUserFC + monthUserSC}}</h1></div></div><table class="table small m-t-sm"><tbody><tr><td><i class="fa fa-money"></i> FX <strong ng-bind="weekUserFX"></strong></td><td><i class="fa fa-money"></i> FX <strong ng-bind="monthUserFX"></strong></td></tr><tr ng-show="$root.regionSelected == \'CN\'"><td><i class="fa fa-line-chart"></i> FC <strong ng-bind="weekUserFC"></strong></td><td><i class="fa fa-line-chart"></i> FC <strong ng-bind="monthUserFC"></strong></td></tr><tr ng-show="$root.regionSelected == \'CN\'"><td><i class="fa fa-bank"></i> SC <strong ng-bind="weekUserSC"></strong></td><td><i class="fa fa-bank"></i> SC <strong ng-bind="monthUserSC"></strong></td></tr></tbody></table></div></div>'),e.put("components/school/school.html",'<div class="wrapper wrapper-content animated fadeInRight"><div class="row chartPanel" ng-controller="SchoolCtrl"><div class="row"><div class="col-md-3 selector pull-left"><ui-select ng-model="region.selected" on-select="onRegionSelect($item, $model)" theme="select2" class="form-control" title="Choose a Region"><ui-select-match placeholder="Select or search Region ...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="item in regions | filter: $select.search"><div ng-bind-html="item | highlight: $select.search"></div></ui-select-choices></ui-select></div><div class="col-md-3 selector pull-left" ng-show="school_show"><ui-select ng-model="school.selected" on-select="onSchoolSelect($item, $model)" theme="select2" class="form-control" title="Choose a School"><ui-select-match placeholder="Select or search a school name ...">{{$select.selected.school_name}}</ui-select-match><ui-select-choices repeat="school in schools | filter: $select.search"><div ng-bind-html="school.school_name | highlight: $select.search"></div><small ng-bind-html="school.school_key | highlight: $select.search"></small></ui-select-choices></ui-select></div><div class="col-md-2 compare-switch" ng-show="school_show"><span style="float:right">Compare mode</span><div class="switch"><div class="onoffswitch"><input type="checkbox" ng-model="isCompard" class="onoffswitch-checkbox" id="compared"> <label class="onoffswitch-label" for="compared"><span class="onoffswitch-inner"></span></label></div></div></div></div><div class="row"><div ng-include="\'components/school/count.html\'"></div><div ng-include="\'components/school/user_growth.html\'"></div></div></div><div class="row chartPanel"><div ng-include="\'components/school/user_rank.html\'"></div><div ng-include="\'components/school/contest.html\'"></div></div></div>'),e.put("components/school/user_growth.html",'<div class="col-lg-7"><highchart config="chartConfig" class="user-growth-chart"></highchart></div>'),e.put("components/school/user_rank.html",'<div class="col-lg-8" ng-controller="UserRankingCrol"><div class="ibox float-e-margins"><div class="ibox-title"><h5>School User Ranking(By ROI)</h5><div class="ibox-tools"><button type="button" class="btn btn-sm btn-primary">Export</button></div></div><div class="ibox-content"><div class="row"><div class="col-sm-3 m-b-xs"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="selected" ng-change="changeProduct()"></select></div><div class="col-sm-3"></div></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th></th><th>User Name</th><th class="hidden-xs">User Id</th><th class="hidden-xs">Register</th><th class="hidden-xs">Trade Count</th><th class="hidden-xs">Biggest Loss</th><th class="hidden-xs">Ranking</th><th>ROI %</th></tr></thead><tbody><tr ng-repeat="userInfo in userRankList"><td><img class="img-circle" src="{{userInfo.serving_url || \'http://www.hkfdt.cn/favicon.ico\'}}"></td><td><a href="/#/index/profile/{{userInfo.user_id}}/{{$root.regionSelected}}/{{selected.name}}">{{userInfo.username | limitTo: 10}}</a></td><td class="hidden-xs">{{userInfo.user_id}}</td><td class="hidden-xs">{{userInfo.created|date}}</td><td class="hidden-xs">{{userInfo.tradescount|number}}</td><td class="neg-number">- {{userInfo.biggestloss|currency:"$"}}</td><td class="hidden-xs">{{userInfo.ranking}}</td><td>{{(userInfo.unit_price - 1 ) * 100|number:2}} %</td></tr></tbody></table><div class="text-center"><div ng-show="rankListLoading"><i class="fa fa-spinner fa-spin"></i></div><button type="button" class="btn btn-sm btn-info" ng-class="userRankList.length>0?\'\':\'disabled\'" ng-click="loaded=true;loadMore()" ng-hide="loaded">Load More</button></div></div></div></div></div>'),e.put("components/user/user_profile.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-controller="UserProfileCtrl"><div class="row" ng-hide="hasUserId"><div class="col-md-3"><div class="input-group"><input type="text" class="form-control" ng-model="inputUserId" placeholder="Please enter a user id"> <span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="loadData()">Go!</button></span></div></div><div class="col-md-1"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="productSelected"></select></div><div class="col-md-1"><select class="input-sm form-control input-s-sm inline product-option" ng-options="region.name for region in regions" ng-model="regionSelected"></select></div></div><div class="row m-b-lg m-t-lg"><div class="col-md-3"><div class="profile-image"><img src="{{user.serving_url || \'http://www.hkfdt.cn/favicon.ico\'}}" class="img-circle circle-border m-b-md" alt="profile"></div><div class="profile-info"><div class=""><div><h2 class="no-margins">{{user.USERNAME}}</h2><h4>{{user.school_name}}</h4><small><spacontact: {{user.email||="" user.phone}}="" <br="">Join at: {{user.CREATED | date:\'yyyy-MM-dd\'}}<br>Last Active: {{userLastLogin.LOGINAT | date:\'yyyy-MM-dd @ h:mma\'}}<br>Country: <img width="15" src="http://lipis.github.io/flag-icon-css/flags/4x3/{{user.COUNTRY| lowercase}}.svg"><br></spacontact:></small></div></div></div><table class="table small m-b-xs accounts-table"><tbody><tr><td><strong>{{acc.UNIT_PRICE * acc.CASH_DEPOSITED | currency:"$"}}</strong> Account Value</td><td><strong>{{acc.CASH | currency:"$"}}</strong> Cash Value</td></tr><tr><td><strong ng-show="acc.UNIT_PRICE">{{(acc.UNIT_PRICE - 1 ) * 100|number:2}}%</strong> ROI</td><td><strong>{{acc.TradesCount}}</strong> Total Trades</td></tr><tr><td><strong>{{acc.Ranking}}</strong> Ranking</td><td><strong>{{acc.RankingPer}}%</strong> Ranking %</td></tr><tr><td><strong>{{acc.BiggestWin}}</strong> Biggest Win</td><td><strong>{{acc.BiggestLoss}}</strong> Biggest Loss</td></tr><tr><td><strong>{{acc.WinRatio}}</strong> Win Ratio</td><td><strong>{{acc.CASH_AVAILABLE | currency:"$"}}</strong>Available Cash</td></tr></tbody></table></div><div class="col-md-5"><highchart config="chartConfig" class="user-roi-chart"></highchart><highchart config="chartPieConfig"></highchart></div><div class="col-md-4"><highchart config="chartRadarConfig"></highchart></div></div></div>'),e.put("components/user/user_score.html",'<div class="row" ng-controller="UserScoreCtrl"><div class="col-md-2">Top Users:<select class="input-sm form-control input-s-sm inline product-option" ng-options="user.userID for user in topUsers" ng-model="topSelected" ng-change="changeTopUser()"></select><br>Tail Users:<select class="input-sm form-control input-s-sm inline product-option" ng-options="user.userID for user in tailUsers" ng-model="tailSelected" ng-change="changeTailUser()"></select></div><div class="col-md-6"><highchart ng-init="loadData()" config="chartConfig"></highchart></div></div>')
}]);